<!doctype html>
<html>
<head>
<title>Imgur App</title>

<meta charset="utf-8" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="app.css">
<style>
img {
touch-action: auto;
}
</style>
</head>

<body>
<main>
<h1>Imgur App</h1>
<p><input type="file" id="input-file" accept="image/*"></p>
<p><canvas id="preview" width="1024" height="1024" title="Preview"></canvas></p>
<p id="mime"></p>
<p class="urlbtn"><a href="" class="urllink" id="url"></a></p>
<p>
<button onclick="selectFile()">Pilih File</button>
<a href="" class="btn" download="avatar.png" id="dl" disabled>Download</a>
</p>
<p>
<img src="placeholder.png" alt="Placeholder" width="1" id="placeholder" hidden></p>
</main>
      
<script src="app.js"></script>
<script src="imgur.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.7/axios.min.js"></script>
<script>
var copyUrlBtn = document.querySelector('.urlbtn');  
copyUrlBtn.addEventListener('click', function(event) {  
// Select the email link anchor text  
var urlLink = document.querySelector('.urllink');  
var range = document.createRange();  
range.selectNode(urlLink);  
window.getSelection().addRange(range);  

try {  
// Now that we've selected the anchor text, execute the copy command  
var successful = document.execCommand('copy');  
var msg = successful ? 'successful' : 'unsuccessful';  
alert('Copy url imgur command was ' + msg);  
} catch(err) {  
alert('Oops, unable to copy');  
}  

// Remove the selections - NOTE: Should use
// removeRange(range) when it is supported  
window.getSelection().removeAllRanges();  
});
</script>
<script>
const input = document.getElementById("input-file");
const output = document.getElementById("mime");

input.addEventListener("change", () => {
const file = input.files[0];
if (file) {
const { name, type } = file;
output.textContent = `ext: ${name.split(".").pop()}\nmime: ${type}`;
} else {
output.textContent = "";
}
});

</script>
</body>
</html>
